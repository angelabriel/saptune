# 2578899 - SUSE Linux Enterprise Server 15: Installation Note
# Description:    You want to use SAP software on SUSE Linux Enterprise Server 15 (SLES 15) or SUSE Linux Enterprise Server 15 for SAP Applications  (SLES for SAP 15).
# Version 20 from 29.11.2019 in English

[version]
# SAP-NOTE=2578899 CATEGORY=LINUX VERSION=20 DATE=29.11.2019 NAME="SUSE LINUX Enterprise Server 15: Installation notes"

[service]
# start the related services
uuidd.socket=start
sysstat.service=start

[block]
# The default I/O scheduler for single-queued block layer devices offers
# satisfactory performance for wide range of I/O task, however choosing an
# alternative scheduler may potentially yield better latency characteristics
# and throughput.
# "noop" is an alternative scheduler, in comparison to other schedulers it
# may offer more consistent performance, lower computation overhead, and
# potentially higher throughput.
# For most SAP environments (RAID, storage arrays, virtualizaton) 'noop' is
# the better choice.
# With the new introduced multi-queue scheduler for block layer devices the
# recommended I/O scheduler is 'none' as an equivalent to 'noop' for
# single-queued block layer devices.
#
# So IO_SCHEDULER can now contain a comma separated list of possible
# schedulers, which are checked from left to right. The first one which is
# available in /sys/block/<device>/queue/scheduler will be used as new
# scheduler setting for the respective block device.
#
# When set, all block devices on the system will be switched to one of the
# chosen schedulers.
IO_SCHEDULER=noop, none

[block:os=15-SP2:arch=ppc64le]
#
# disk readahead
# queue/read_ahead_kb
#
# Defines the maximum number of kilobytes that the operating system may read
# ahead during a sequential read operation. As a result, the likely-needed
# information is already present within the kernel page cache for the next
# sequential read, which improves read I/O performance.
# Device mappers often benefit from a high read_ahead_kb value.
# Increasing the read_ahead_kb value might improve performance in environments
# where sequential reading of large files takes place.
#
# When set, the value of read_ahead_kb for all block devices on the system will
# be switched to the chosen value
READ_AHEAD_KB=128

[rpm]
# dependencies handled by saptune package installation
libopenssl1_0_0 15 1.0.2n-3.3.1
libssh2-1 15 1.8.0-2.35
tcsh 15 6.20.00-4.9.1
tcsh 15-SP1 6.20.00-4.9.1

[sysctl]
# vm.dirty_bytes (indirect vm.dirty_ratio)
# Contains the amount of dirty memory at which a process generating disk writes
# will itself start writeback.
# Note: dirty_bytes is the counterpart of dirty_ratio. Only one of them may be
# specified at a time. When one sysctl is written it is immediately taken into
# account to evaluate the dirty memory limits and the other appears as 0 when
# read.
# Note: when changing the tuned profile or switching off tuned, both values
# will be set back to their previous settings.
# Note: the minimum value allowed for dirty_bytes is two pages (in bytes); any
# value lower than this limit will be ignored and the old configuration will be
# retained.
#
# vm.dirty_bytes should be set to 629145600 (see TID_7010287)
#
vm.dirty_bytes=629145600

# vm.dirty_background_bytes (indirect vm.dirty_background_ratio)
# Contains the amount of dirty memory at which the background kernel
# flusher threads will start writeback.
# Note: dirty_background_bytes is the counterpart of dirty_background_ratio.
# Only one of them may be specified at a time. When one sysctl is written it is
# immediately taken into account to evaluate the dirty memory limits and the
# other appears as 0 when read.
# Note: when changing the tuned profile or switching off tuned, both values
# will be set back to their previous settings.
#
# vm.dirty_background_bytes should be set to 314572800 (see TID_7010287)
#
vm.dirty_background_bytes=314572800

[sysctl:os=15-SP2:arch=ppc64le]
kernel.sched_min_granularity_ns = 3000000
kernel.sched_wakeup_granularity_ns = 4000000
